(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{201:function(e,t,n){e.exports=n(358)},235:function(e,t){},358:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(41),c=n.n(s),o=n(31),i=n(32),u=n(20),m=n(33),l=n(34),h=n(171),d=n.n(h),b=n(369),g=n(372),S=n(367),p=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={username:"",isError:!1},a.onChange=a.onChange.bind(Object(u.a)(a)),a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"onChange",value:function(e){this.setState({username:e.target.value,isError:!1})}},{key:"onSubmit",value:function(e){e.preventDefault(),""!==this.state.username.trim()?this.props.onSubmit(this.state.username.trim()):this.setState({isError:!0})}},{key:"render",value:function(){return r.a.createElement(b.a,{onSubmit:this.onSubmit},this.state.isError?r.a.createElement(g.a,{negative:!0},r.a.createElement(g.a.Header,null,"User name cannot be blank")):null,r.a.createElement(S.a,{fluid:!0,action:{color:"blue",content:"Submit"},placeholder:"Enter name...",onChange:this.onChange,error:this.state.isError}))}}]),n}(r.a.Component),v=n(53),O=n(188),f=n.n(O),y=n(371),E=function(e){return r.a.createElement(y.a,null,r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Author,{as:"span"},e.message.username),r.a.createElement(y.a.Metadata,null,r.a.createElement("span",{className:"date"},f()(e.message.date).calendar())),r.a.createElement(y.a.Text,null,e.message.isSystem?r.a.createElement(g.a,null,e.message.text):e.message.text)))},k=n(359),j=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).socket=a.props.socket,a.state={message:""},a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.onInputChange=a.onInputChange.bind(Object(u.a)(a)),a.onKeydownHandler=a.onKeydownHandler.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeydownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeydownHandler)}},{key:"onInputChange",value:function(e){this.setState({message:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.message;""!==this.state.message.trim()&&(this.props.onSubmit(t),this.setState({message:""}))}},{key:"onKeydownHandler",value:function(e){var t=-1!==navigator.appVersion.indexOf("Mac")?e.metaKey:e.ctrlKey;13===e.keyCode&&t&&this.onSubmit(e)}},{key:"render",value:function(){return r.a.createElement(b.a,{onSubmit:this.onSubmit,reply:!0},r.a.createElement(b.a.TextArea,{rows:2,onChange:this.onInputChange,value:this.state.message}),r.a.createElement(k.a,{content:"Add Reply",labelPosition:"left",icon:"edit",primary:!0}))}}]),n}(r.a.Component),C=n(373),w=n(368),x=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={messages:[],currentOnline:e.currentOnline},a.socket=a.props.socket,a.onMessageFormSubmit=a.onMessageFormSubmit.bind(Object(u.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({messages:[].concat(Object(v.a)(this.state.messages),[{text:"".concat(this.props.currentUsername," (you) connected!"),date:Date.now(),isSystem:!0}])}),this.socket.on("new-message",(function(t){e.setState({messages:[].concat(Object(v.a)(e.state.messages),[t])})})),this.socket.on("user-connected",(function(t){e.setState({messages:[].concat(Object(v.a)(e.state.messages),[{text:"".concat(t.username," connected!"),date:Date.now(),isSystem:!0}]),currentOnline:t.currentOnline})})),this.socket.on("user-disconnected",(function(t){e.setState({messages:[].concat(Object(v.a)(e.state.messages),[{text:"".concat(t.username," disconnected!"),date:Date.now(),isSystem:!0}]),currentOnline:t.currentOnline})}))}},{key:"onMessageFormSubmit",value:function(e){this.socket.emit("new-message",e),this.setState({messages:[].concat(Object(v.a)(this.state.messages),[{username:this.props.currentUsername,text:e,date:Date.now()}])})}},{key:"render",value:function(){return r.a.createElement(y.a.Group,null,r.a.createElement(C.a,{size:"tiny",textAlign:"right",color:"grey",dividing:!0},"CURRENT ONLINE: ",this.state.currentOnline),this.state.messages.map((function(e,t){return r.a.createElement(E,{key:t,message:e})})),r.a.createElement(w.a,null),r.a.createElement(j,{currentUsername:this.props.currentUsername,onSubmit:this.onMessageFormSubmit}))}}]),n}(r.a.Component),U=n(374),A=n(375),D=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).socket=d()("/"),e.state={currentScreen:"LoginScreen",currentUsername:"",currentOnline:0},e.onUsernameSubmitted=e.onUsernameSubmitted.bind(Object(u.a)(e)),e}return Object(i.a)(n,[{key:"onUsernameSubmitted",value:function(e){var t=this;this.socket.emit("new-user",e),this.socket.on("login",(function(n){t.setState({currentOnline:n.currentOnline,currentUsername:e,currentScreen:"ChatScreen"})}))}},{key:"renderCurrentScreen",value:function(){return"LoginScreen"===this.state.currentScreen?r.a.createElement(U.a,{stacked:!0},r.a.createElement(p,{onSubmit:this.onUsernameSubmitted})):"ChatScreen"===this.state.currentScreen?r.a.createElement(U.a,{stacked:!0,textAlign:"left"},r.a.createElement(x,{currentOnline:this.state.currentOnline,currentUsername:this.state.currentUsername,socket:this.socket})):void 0}},{key:"render",value:function(){return r.a.createElement(A.a,{as:U.a,textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},r.a.createElement(A.a.Column,{style:{maxWidth:650}},r.a.createElement(C.a,{as:"h2",color:"blue",textAlign:"center"},"CHAT APP"),this.renderCurrentScreen()))}}]),n}(a.Component);c.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.607bd94e.chunk.js.map